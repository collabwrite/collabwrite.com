---
import type { MarkdownHeading } from 'astro'

interface Props {
  headings: MarkdownHeading[]
}

const { headings } = Astro.props
---

<nav class='bg-gray-100 p-4 rounded-lg shadow-md'>
  <h2 class='text-xl font-semibold mb-4'>Table of Contents</h2>
  <ul class='space-y-2'>
    {
      headings.map(
        (heading) =>
          heading.depth < 4 && (
            <li class={`toc-level-${heading.depth}`}>
              <a
                href={`#${heading.slug}`}
                class='text-blue-600 hover:text-blue-800 transition-colors duration-200'
              >
                {heading.text}
              </a>
            </li>
          )
      )
    }
  </ul>
</nav>

<style>
  .toc-level-2 {
    @apply ml-4;
  }
  .toc-level-3 {
    @apply ml-8;
  }
  .toc-level-4 {
    @apply ml-12;
  }
</style>
